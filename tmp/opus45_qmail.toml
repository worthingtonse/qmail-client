# ==============================================================================
# QMail Client Core - Configuration File
# Format: TOML (https://toml.io)
# Version: Phase I
# Generated by: Claude Opus 4.5 (opus45)
# Updated: With specific server/beacon details
# ==============================================================================

# ------------------------------------------------------------------------------
# PATHS & FILES
# All paths are relative to the application root unless absolute
# ------------------------------------------------------------------------------
[paths]
db_path = "Data/qmail.db"              # SQLite database
log_path = "Data/mail.mlog"            # Application log file
locker_files_path = "Data/lockers"     # Directory containing locker code files
attachments_path = "Data/attachments"  # External attachment storage (EXTERNAL mode)

# ------------------------------------------------------------------------------
# USER IDENTITY
# Required for all server communications
# CloudCoin-based identity: coin_type + denomination + serial = mailbox address
# Note: Available wallets discovered at runtime from build/Data/Wallets/
# ------------------------------------------------------------------------------
[identity]
coin_type = 6                          # 0x0006 = CloudCoin V3
denomination = 1                       # Coin denomination (1-5)
serial_number = 0                      # 4-byte mailbox serial (SET THIS!)
device_id = 1                          # 16-bit device identifier (0-65535)

# ------------------------------------------------------------------------------
# ENCRYPTION
# Mode determines authentication method for server requests
# ------------------------------------------------------------------------------
[encryption]
enabled = true
mode = 1                               # 1 = Mode B (AN-based), 6 = Mode A (Session-based)

# ------------------------------------------------------------------------------
# BEACON / PING MONITORING
# Long-polling service to check for new mail
# Beacon is RAIDA 14 (index 14)
# ------------------------------------------------------------------------------
[beacon]
url = "tcp://168.220.219.199:50014"    # Default beacon server (RAIDA 14)
server_index = 14                      # Which RAIDA server is beacon (0-24)
interval_sec = 600                     # How often to ping (10 minutes)
timeout_sec = 600                      # Long-poll timeout before retry

# ------------------------------------------------------------------------------
# RAID / STRIPING
# Data distribution across QMail servers
# Total servers used = data_stripe_count + parity_stripe_count = 5
# Note: stripe_size is NOT configurable - calculated as ~25% of document size
# ------------------------------------------------------------------------------
[raid]
data_stripe_count = 4                  # Number of data stripes
parity_stripe_count = 1                # Number of parity stripes (redundancy)

# ------------------------------------------------------------------------------
# NETWORK
# Connection settings for QMail server communication
# ------------------------------------------------------------------------------
[network]
connection_timeout_ms = 5000           # TCP connect timeout
read_timeout_ms = 30000                # Read timeout for responses
max_retries = 3                        # Retry count on failure

# ------------------------------------------------------------------------------
# THREAD POOL
# Worker threads for parallel server operations
# Must be at least 5 to handle all QMail servers concurrently
# ------------------------------------------------------------------------------
[threading]
pool_size = 5                          # Matches total QMail server count

# ------------------------------------------------------------------------------
# REST API SERVER
# Local HTTP server for GUI/client communication
# Note: Port is specified via command line: --port 8080
# ------------------------------------------------------------------------------
[api]
enabled = true
host = "127.0.0.1"                     # Bind address (localhost only for security)
# port is NOT here - use command line argument: --port <number>

# ------------------------------------------------------------------------------
# LOGGING
# Log file management
# ------------------------------------------------------------------------------
[logging]
level = "info"                         # debug, info, warning, error
max_size_mb = 10                       # Rotate when log exceeds this size
backup_count = 3                       # Number of old logs to keep

# ------------------------------------------------------------------------------
# QMAIL SERVERS (5 total)
# Storage servers for stripe distribution (4 data + 1 parity)
# ------------------------------------------------------------------------------
[[qmail_servers]]
address = "47.229.9.94"
port = 50001

[[qmail_servers]]
address = "124.187.106.233"
port = 50009

[[qmail_servers]]
address = "113.30.247.109"
port = 50013

[[qmail_servers]]
address = "168.220.219.199"
port = 50014

[[qmail_servers]]
address = "125.236.210.184"
port = 50021

# ------------------------------------------------------------------------------
# RAIDA / GUARDIAN SERVERS (25 total)
# Used for RAIDA IP discovery and various CloudCoin operations
# Index 14 is the beacon server
# ------------------------------------------------------------------------------
[[raida_servers]]
index = 0
address = "78.46.170.45"
port = 50000

[[raida_servers]]
index = 1
address = "47.229.9.94"
port = 50001

[[raida_servers]]
index = 2
address = "209.46.126.167"
port = 50002

[[raida_servers]]
index = 3
address = "116.203.157.233"
port = 50003

[[raida_servers]]
index = 4
address = "95.183.51.104"
port = 50004

[[raida_servers]]
index = 5
address = "31.163.201.90"
port = 50005

[[raida_servers]]
index = 6
address = "52.14.83.91"
port = 50006

[[raida_servers]]
index = 7
address = "161.97.169.229"
port = 50007

[[raida_servers]]
index = 8
address = "13.234.55.11"
port = 50008

[[raida_servers]]
index = 9
address = "124.187.106.233"
port = 50009

[[raida_servers]]
index = 10
address = "94.130.179.247"
port = 50010

[[raida_servers]]
index = 11
address = "67.181.90.11"
port = 50011

[[raida_servers]]
index = 12
address = "3.16.169.178"
port = 50012

[[raida_servers]]
index = 13
address = "113.30.247.109"
port = 50013

[[raida_servers]]
index = 14
address = "168.220.219.199"
port = 50014
# This is the BEACON server

[[raida_servers]]
index = 15
address = "185.37.61.73"
port = 50015

[[raida_servers]]
index = 16
address = "193.7.195.250"
port = 50016

[[raida_servers]]
index = 17
address = "5.161.63.179"
port = 50017

[[raida_servers]]
index = 18
address = "76.114.47.144"
port = 50018

[[raida_servers]]
index = 19
address = "190.105.235.113"
port = 50019

[[raida_servers]]
index = 20
address = "184.18.166.118"
port = 50020

[[raida_servers]]
index = 21
address = "125.236.210.184"
port = 50021

[[raida_servers]]
index = 22
address = "5.161.123.254"
port = 50022

[[raida_servers]]
index = 23
address = "130.255.77.156"
port = 50023

[[raida_servers]]
index = 24
address = "209.205.66.24"
port = 50024
